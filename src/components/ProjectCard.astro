---
interface Props {
  project: {
    slug: string;
    data: {
      title: string;
      description: string;
      difficulty: string;
      devices: string[];
      components: string[];
      image?: string;
      status: 'idea' | 'in-progress' | 'completed' | 'abandoned';
    };
  };
}

const { project } = Astro.props;

const difficultyColors = {
  beginner: { bg: '#dbeafe', color: '#1e40af' },
  intermediate: { bg: '#fef3c7', color: '#92400e' },
  advanced: { bg: '#fee2e2', color: '#991b1b' }
};

const difficultyStyle = difficultyColors[project.data.difficulty as keyof typeof difficultyColors] || difficultyColors.beginner;

const statusLabels = {
  idea: 'üí≠ Idea',
  'in-progress': 'üõ†Ô∏è In Progress',
  completed: '‚úÖ Completed',
  abandoned: '‚è∏Ô∏è Abandoned',
};
---

<a href={`/projects/${project.slug}`} class="block bg-white border border-gray-200 rounded-lg overflow-hidden transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5 hover:border-purple-600 no-underline text-inherit">
  {project.data.image && (
    <img src={project.data.image} alt={project.data.title} class="w-full h-48 object-cover" />
  )}
  <div class="p-6">
    <div class="flex justify-between items-center mb-2">
      <span class="inline-block px-3 py-1 rounded text-sm font-medium capitalize" 
            style={`background: ${difficultyStyle.bg}; color: ${difficultyStyle.color};`}>
        {project.data.difficulty}
      </span>
      <span class={`status-badge status-badge-${project.data.status}`}>
        {statusLabels[project.data.status]}
      </span>
    </div>
    <h3 class="my-2 text-xl text-gray-900">{project.data.title}</h3>
    <p class="my-3 text-gray-600 leading-relaxed">{project.data.description}</p>
    <div class="flex gap-4 mt-4 pt-4 border-t border-gray-200">
      <div class="text-sm text-gray-600">
        <strong class="text-gray-900">Devices:</strong> {project.data.devices.length}
      </div>
      <div class="text-sm text-gray-600">
        <strong class="text-gray-900">Components:</strong> {project.data.components.length}
      </div>
    </div>
  </div>
</a>
