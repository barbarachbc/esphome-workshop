---
interface Props {
  project: {
    slug: string;
    data: {
      title: string;
      description: string;
      difficulty: string;
      devices: string[];
      components: string[];
      image?: string;
      status: 'idea' | 'in-progress' | 'completed' | 'abandoned';
    };
  };
}

const { project } = Astro.props;

const statusLabels = {
  idea: 'ğŸ’­ Idea',
  'in-progress': 'ğŸ› ï¸ In Progress',
  completed: 'âœ… Completed',
  abandoned: 'â¸ï¸ Abandoned',
};
---

<a href={`/projects/${project.slug}`} class="block rounded-lg overflow-hidden transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5 no-underline text-inherit" style="background: var(--bg-card); border: 1px solid var(--border-card);">
  {project.data.image && (
    <img src={project.data.image} alt={project.data.title} class="w-full h-48 object-cover" />
  )}
  <div class="p-6">
    <div class="flex justify-between items-center mb-2">
      <span class={`difficulty-badge difficulty-badge-${project.data.difficulty}`}>
        {project.data.difficulty}
      </span>
      <span class={`status-badge status-badge-${project.data.status}`}>
        {statusLabels[project.data.status]}
      </span>
    </div>
    <h3 class="my-2 text-xl" style="color: var(--text-heading);">{project.data.title}</h3>
    <p class="my-3 leading-relaxed" style="color: var(--text-secondary);">{project.data.description}</p>
    <div class="flex gap-4 mt-4 pt-4 border-t" style="border-color: var(--border-primary);">
      <div class="text-sm" style="color: var(--text-secondary);">
        <strong style="color: var(--text-heading);">Devices:</strong> {project.data.devices.length}
      </div>
      <div class="text-sm" style="color: var(--text-secondary);">
        <strong style="color: var(--text-heading);">Components:</strong> {project.data.components.length}
      </div>
    </div>
  </div>
</a>
