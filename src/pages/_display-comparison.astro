---
/**
 * LCD Display Comparison Page
 * 
 * Example page demonstrating the ImageMap component with an interactive
 * comparison of various LCD displays showing their relative sizes and specs.
 */

import Layout from '../layouts/Layout.astro';
import ImageMap from '../components/ImageMap.astro';

const title = 'LCD Display Size Comparison';
const description = 'Interactive comparison of various LCD displays showing relative sizes, specifications, and capabilities';

// Define the comparison image and hotspots
// Note: You'll need to create the actual comparison image and place it in public/images/comparisons/
const displayComparison = {
  image: '/images/comparisons/lcd-display-lineup.jpg',
  alt: 'Size comparison of LCD displays lined up from smallest to largest',
  imageWidth: 1200,
  imageHeight: 800,
  hotspots: [
    // Example hotspot coordinates - these would need to match your actual image
    // Adafruit MiniPiTFT 1.3" (240x240) - leftmost
    {
      deviceSlug: 'adafruit-minipitft-13',
      shape: 'rect' as const,
      coords: { x: 50, y: 300, width: 200, height: 200 }
    },
    // GC9A01 Round LCD 1.28" (240x240) - second from left
    {
      deviceSlug: 'gc9a01-round-lcd',
      shape: 'circle' as const,
      coords: { cx: 450, cy: 400, r: 120 }
    },
    // Elegoo TFT 2.8" (240x320) - third from left
    {
      deviceSlug: 'elegoo-tft-touchscreen',
      shape: 'rect' as const,
      coords: { x: 650, y: 250, width: 220, height: 300 }
    },
    // Pimoroni 0.96" SPI LCD - smallest
    {
      deviceSlug: 'pimoroni-096-spi-lcd',
      shape: 'rect' as const,
      coords: { x: 950, y: 350, width: 150, height: 150 }
    },
  ]
};

// You can define multiple comparison images
const oledComparison = {
  image: '/images/comparisons/oled-display-lineup.jpg',
  alt: 'Size comparison of OLED displays',
  imageWidth: 1200,
  imageHeight: 600,
  hotspots: [
    {
      deviceSlug: 'sh1106-oled',
      shape: 'rect' as const,
      coords: { x: 100, y: 200, width: 250, height: 150 }
    },
    {
      deviceSlug: 'sh1107-spi-oled',
      shape: 'rect' as const,
      coords: { x: 400, y: 200, width: 250, height: 150 }
    },
    {
      deviceSlug: 'grove-oled-ssd1315',
      shape: 'rect' as const,
      coords: { x: 700, y: 200, width: 250, height: 150 }
    },
  ]
};
---

<Layout title={title} description={description}>
  <div class="max-w-6xl mx-auto px-4 py-8">
    <!-- Page Header -->
    <header class="mb-8">
      <h1 class="text-4xl font-bold mb-4" style="color: var(--text-heading)">
        {title}
      </h1>
      <p class="text-lg" style="color: var(--text-secondary)">
        {description}
      </p>
    </header>

    <!-- Usage Instructions -->
    <div class="mb-8 p-6 rounded-lg" style="background: var(--bg-secondary); border: 1px solid var(--border-primary)">
      <h2 class="text-xl font-semibold mb-3" style="color: var(--text-heading)">
        How to Use This Comparison
      </h2>
      
      <!-- Desktop Instructions -->
      <div class="desktop-only">
        <ul class="space-y-2" style="color: var(--text-secondary)">
          <li>üñ±Ô∏è <strong>Hover</strong> over any display to see its specifications</li>
          <li>üëÜ <strong>Click</strong> on a display to navigate to its detailed page</li>
          <li>üìè All displays are shown at their relative actual sizes</li>
          <li>üé® Color-coded outlines appear on hover to highlight each device</li>
        </ul>
      </div>
      
      <!-- Mobile Instructions -->
      <div class="mobile-only">
        <ul class="space-y-2" style="color: var(--text-secondary)">
          <li>üëÜ <strong>Tap</strong> on a display to see its specifications in a slide-up panel</li>
          <li>üîò <strong>Tap "View Details"</strong> button to navigate to the device page</li>
          <li>‚úï <strong>Close button or tap outside</strong> to dismiss the panel</li>
          <li>üìè All displays are shown at their relative actual sizes</li>
        </ul>
      </div>
    </div>

    <!-- LCD Display Comparison -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-4" style="color: var(--text-heading)">
        LCD Displays
      </h2>
      <p class="mb-6" style="color: var(--text-secondary)">
        Color TFT LCD displays ranging from 0.96" to 2.8" diagonal. These displays
        typically use SPI communication and require more power than OLEDs but offer
        vibrant colors and better sunlight visibility.
      </p>
      
      <div class="comparison-note mb-4 p-4 rounded-lg" style="background: var(--accent-blue-light); border-left: 4px solid var(--accent-blue)">
        <p style="color: var(--text-primary); margin: 0;">
          <strong>Note:</strong> This is a demonstration page. To use this with actual images:
        </p>
        <ol class="mt-2 ml-6" style="color: var(--text-primary)">
          <li>Take a photo of your displays lined up side-by-side</li>
          <li>Save it to <code style="background: var(--bg-code-inline); padding: 0.125rem 0.375rem; border-radius: 0.25rem;">/public/images/comparisons/lcd-display-lineup.jpg</code></li>
          <li>Measure pixel coordinates for each display in the image</li>
          <li>Update the hotspot coordinates in this file</li>
        </ol>
      </div>
      
      <ImageMap {...displayComparison} />
    </section>

    <!-- OLED Display Comparison -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold mb-4" style="color: var(--text-heading)">
        OLED Displays
      </h2>
      <p class="mb-6" style="color: var(--text-secondary)">
        Monochrome OLED displays with excellent contrast and low power consumption.
        Perfect for battery-powered projects where you need good visibility without
        backlighting.
      </p>
      
      <div class="comparison-note mb-4 p-4 rounded-lg" style="background: var(--accent-emerald-light); border-left: 4px solid var(--accent-emerald)">
        <p style="color: var(--text-primary); margin: 0;">
          <strong>Coming Soon:</strong> OLED display comparison image with SH1106, SH1107, and SSD1315 displays.
        </p>
      </div>
      
      <!-- Uncomment when you have the OLED comparison image -->
      <!-- <ImageMap {...oledComparison} /> -->
    </section>

    <!-- Additional Info -->
    <section class="mt-12 p-6 rounded-lg" style="background: var(--bg-tertiary); border: 1px solid var(--border-primary)">
      <h2 class="text-xl font-semibold mb-4" style="color: var(--text-heading)">
        Creating Your Own Comparison Images
      </h2>
      
      <div class="space-y-4" style="color: var(--text-secondary)">
        <div>
          <h3 class="font-semibold mb-2" style="color: var(--text-primary)">1. Photography Tips</h3>
          <ul class="ml-6 space-y-1">
            <li>Use a plain, contrasting background</li>
            <li>Ensure even lighting without harsh shadows</li>
            <li>Take the photo from directly above (bird's eye view)</li>
            <li>Line up displays in a visually clear arrangement</li>
            <li>Include a ruler or reference object for scale</li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-semibold mb-2" style="color: var(--text-primary)">2. Finding Hotspot Coordinates</h3>
          <ul class="ml-6 space-y-1">
            <li>Open your image in an image editor (GIMP, Photoshop, etc.)</li>
            <li>Note the total image dimensions (e.g., 1200x800)</li>
            <li>Use the selection tool to measure each display's position</li>
            <li>Record x, y, width, height for rectangles</li>
            <li>For circles: center x, center y, radius</li>
          </ul>
        </div>
        
        <div>
          <h3 class="font-semibold mb-2" style="color: var(--text-primary)">3. Updating the Component</h3>
          <p>Edit the hotspots array in this file with your measured coordinates:</p>
          <pre class="mt-2 p-3 rounded overflow-x-auto" style="background: var(--bg-code); color: var(--text-code)"><code>{`{
  deviceSlug: 'your-device-slug',
  shape: 'rect',
  coords: { x: 100, y: 200, width: 300, height: 240 }
}`}</code></pre>
        </div>
      </div>
    </section>

    <!-- Related Links -->
    <section class="mt-8">
      <h2 class="text-xl font-semibold mb-4" style="color: var(--text-heading)">
        Related Resources
      </h2>
      <div class="flex flex-wrap gap-3">
        <a 
          href="/devices?category=display" 
          class="device-label-link"
          style="padding: 0.5rem 1rem; background: var(--bg-secondary); border: 1px solid var(--border-primary); border-radius: 0.375rem; color: var(--text-link); text-decoration: none; transition: all 0.2s ease;"
        >
          View All Displays
        </a>
        <a 
          href="/components/display-mipi-spi" 
          class="device-label-link"
          style="padding: 0.5rem 1rem; background: var(--bg-secondary); border: 1px solid var(--border-primary); border-radius: 0.375rem; color: var(--text-link); text-decoration: none; transition: all 0.2s ease;"
        >
          ESPHome Display Component
        </a>
        <a 
          href="/components/spi" 
          class="device-label-link"
          style="padding: 0.5rem 1rem; background: var(--bg-secondary); border: 1px solid var(--border-primary); border-radius: 0.375rem; color: var(--text-link); text-decoration: none; transition: all 0.2s ease;"
        >
          SPI Communication
        </a>
      </div>
    </section>
  </div>
</Layout>

<style>
  .device-label-link:hover {
    background: var(--accent-blue-light) !important;
    border-color: var(--accent-blue) !important;
    color: var(--accent-blue-dark) !important;
  }
  
  /* Show/hide based on device type */
  .desktop-only {
    display: block;
  }
  
  .mobile-only {
    display: none;
  }
  
  @media (hover: none) and (pointer: coarse) {
    .desktop-only {
      display: none;
    }
    
    .mobile-only {
      display: block;
    }
  }
</style>
